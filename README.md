# georgsold_infra
## Обязательные параметры:

```

testapp_IP = 35.241.171.179
testapp_port = 9292

```

## Сделано:

0. Пересмотрена лекция и прочитано про хранение state в удаленных ресурсах. 
1. Выполнены задачи по ДЗ: настроено правило для ssh, созданы packer`ом образы для ВМ СУБД и приложения, созданы модули app, db, vpc, созданы отдельные конфигурации под stage и prod, проведено тестирование окружений stage и prod при работе с модулями (если уж слйды с ДЗ настолько подробны, то для сохранения общей картины можно написать, что в каждом окружении надо сделать init :) ).
2. Созданы тестовые bucket`ы, проверена работа с переносом state-файла. В окружениях stage и prod созданы backend'ы - сами state файлы перенесены в bucket GCP.
3. Добавлены provisioner`ы для деплоя с учетом размещения скриптов деплоя в папке модуля.
4. Реализована передача внешнего IP СУБД в переменную окружения DATABASE_URL (через puma.service >> Environment="DATABASE_URL=${mngdb_ip}").

## Как проверить:

Зайти на 35.241.171.179:9292.
